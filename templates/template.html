<!doctype html>
<html>
  <head>
    <title>Denmark Mentions</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
  </head>
  <body>

    <style>
      body{
        background-color: #dedfe0;
        margin-left: 0;
      }
      .round{
        border-radius: 5px;
        padding: 5px;
      }
      a.btn{
        margin-top: 10px;
        width: 100%;
      }
      #submit-btn{
        background-color: #428bca;
        color: white;
      }
      #update-btn{
        background-color: #d9534f;
        color: white;
      }
      .btn-danger{
        background-color: #d9534f;
      }
      .btn-primary{
        background-color: #428bca;
      }
      .btn-info{
        background-color: #5bc0de;
      }
      .input-group{
        margin-top: 10px;
      }
      .input-group-addon{
        background-color: white;
      }
      .alert{
        margin: 10px;
      }

    </style>

    <div class='container'>
      <div class='row'>
        <div class='col-2'></div>
        <div class='col-8'>
          <center><h2>Denmark Mentions</h2></center>
        </div>
        <div class='col-2'></div>
      </div>
      <div class='row'>
        <div class='col-2'>
          <p>Survey Links</p>
          <ul>
            <li><a target='blank' href='https://www.socialbakers.com/statistics/twitter/profiles/denmark/' class='btn btn-info'>Twitter</a></li>
            <li><a target='blank' href='https://www.socialbakers.com/statistics/facebook/pages/total/denmark/' class='btn btn-primary'>Facebook</a></li>
            <li><a target='blank' href='https://www.socialbakers.com/statistics/youtube/channels/denmark/' class='btn btn-danger'>Youtube</a></li>
          </ul>
        </div>
        <div class='col-8'>
          <div class='container'>
            <div class='row'>
              <div class='col-12'>
                <form method='post'>
                  {% csrf_token %}
                  <div class='input-group'>
                    {% for comp in form %}
                      {{comp}}
                    {% endfor %}
                    <button type='submit' class='btn btn-primary input-group-addon' id='submit-btn'> Search </button>
                  </div>
                </form>
              </div>
            </div>
            <div class='row'>
              <div class='col-12'>
                <div class='alert alert-info' role='alert'>
                  <strong>Search Keywords:</strong> Enter keywords to find social media occurrences.<br/>
                  <strong>Date Field:</strong> Enter date in given format to include results after that date only.<br />
                  <strong>Checkbox:</strong> Tick the checkbox if you want to download results in excel format.<br/>
                  <strong>IDs:</strong> Space separated list of IDs to restrict results to include specific ids. An id can be facebook page_id, user_id; youtube channel_id, video_id; twitter user_id etc.
                </div>
              </div>
            </div>
            <div class='row'>
              <div class='col-12'>
                <div class='input-group'>
                  <input type='text' class='form-control' placeholder='access token here' id='access_token' />
                  <button class='btn btn-danger input-group-addon' id="update-btn" title='it should take a while'>
                    Update Archive
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class='col-2'> </div>
      </div>
      <a name='fb-comments-section'></a>
      {% if fb_comments %}
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'></div>
          <div class='col-8'>
            <a class='btn btn-primary' href='#fb-comments-section'>FB Comments({{fb_comments_count}})</a>
            <a class='btn btn-primary' href='#fb-post-section'>FB Posts({{fb_posts_count}})</a>
            <a class='btn btn-danger' href='#yt-comments-section'>YT Posts({{yt_comments_count}})</a>
            <a class='btn btn-info' href='#tweets-section'>Tweets({{tweets_count}})</a>
          </div>
          <div class='col-2'></div>
        </div>
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'> </div>
          <div class='col-8'>
            <div class='container'>
              <div class='row'>
                <div class='bg-info round container col-12'>Total occurrences: {{ fb_comments_count }}, displaying at most 100. </div> <br />
                {% for comment in fb_comments %}
                  <div class='card' style='width: 22rem; margin: 5px;'>
                    <div class='card-header btn-primary'>
                      <span>Facebook Comment 
                        {% if comment.comment_id %}
                          ({{comment.comment_id}})
                        {% endif %}
                      </span>
                    </div>
                    <div class='card-block'>
                      <h6 class='card-title'>User: {{comment.username}} 
                        {% if comment.user_id %}
                          ({{comment.user_id}})
                        {% endif %}
                      </h6>
                      <h6 class='card-subtitle mb-2 text-muted'>Timestamp: {{comment.timestamp}}</h6>
                      {% if comment.page_id %}
                        <h6 class='card-subtitle mb-2 text-muted'>Page: {{comment.page_id}}</h6>
                      {% endif %}
                      <hr>
                      <p class='card-text'>
                      {{comment.message|safe}}
                      </p>
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
          <div class='col-2'> </div>
        </div>
      {% endif %}
      <a name='fb-post-section'></a>
      {% if fb_posts %}
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'></div>
          <div class='col-8'>
            <a class='btn btn-primary' href='#fb-comments-section'>FB Comments({{fb_comments_count}})</a>
            <a class='btn btn-primary' href='#fb-post-section'>FB Posts({{fb_posts_count}})</a>
            <a class='btn btn-danger' href='#yt-comments-section'>YT Posts({{yt_comments_count}})</a>
            <a class='btn btn-info' href='#tweets-section'>Tweets({{tweets_count}})</a>
          </div>
          <div class='col-2'></div>
        </div>
          <div class='row' style='margin-top: 10px'>
            <div class='col-2'> </div>
            <div class='col-8'>
              <div class='container'>
                <div class='row'>
                  <div class='bg-info round container col-12'>Total occurrences: {{ fb_posts_count }}, displaying at most 100. </div> <br />
                  {% for post in fb_posts %}
                    <div class='card' style='width: 22rem; margin: 5px;'>
                      <div class='card-header btn-primary'>
                        <span>Facebook Post 
                          {% if post.post_id %}
                            ({{post.post_id}})
                          {% endif %}
                        </span>
                      </div>
                      <div class='card-block'>
                        <h4 class='card-title'>Page: {{post.pagename}}
                          {% if post.page_id %}
                            ({{post.page_id}})
                          {% endif %}
                        </h4>
                        <h6 class='card-subtitle mb-2 text-muted'>Timestamp: {{post.timestamp}}</h6>
                        <hr>
                        <p class='card-text'>{{post.message|safe}}</p>
                      </div>
                    </div>
                  {% endfor %}
                </div>
              </div>
            </div>
            <div class='col-2'> </div>
          </div>
      {% endif %}
      <a name='yt-comments-section'></a>
      {% if yt_comments %}
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'></div>
          <div class='col-8'>
            <a class='btn btn-primary' href='#fb-comments-section'>FB Comments({{fb_comments_count}})</a>
            <a class='btn btn-primary' href='#fb-post-section'>FB Posts({{fb_posts_count}})</a>
            <a class='btn btn-danger' href='#yt-comments-section'>YT Posts({{yt_comments_count}})</a>
            <a class='btn btn-info' href='#tweets-section'>Tweets({{tweets_count}})</a>
          </div>
          <div class='col-2'></div>
        </div>
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'> </div>
          <div class='col-8'>
            <div class='container-fluid'>
              <div class='row'>
                <div class='bg-info round container col-12'>Total occurrences: {{ yt_comments_count }}, displaying at most 100. </div> <br />
                {% for comment in yt_comments %}
                  <div class='card' style='width: 22rem; margin: 5px;'>
                    <div class='card-header btn-danger'>
                      <span>Youtube Comment ({{comment.comment_id}})</span>
                    </div>
                    <div class='card-block'>
                      <h6 class='card-title'>User: {{comment.username}}</h6>
                      <h6 class='card-subtitle mb-2 text-muted'>channel: {{comment.channel_id}}</h6>
                      <h6 class='card-subtitle mb-2 text-muted'>{{comment.timestamp}}</h6>
                      <h6>Video: {{comment.video}}({{comment.video_id}})</h6>
                      <hr>
                      <p class='card-text'>{{comment.message|safe}}</p>
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
          <div class='col-2'> </div>
        </div>
      {% endif %}
      <a name='tweets-section'></a>
      {% if tweets %}
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'></div>
          <div class='col-8'>
            <a class='btn btn-primary' href='#fb-comments-section'>FB Comments({{fb_comments_count}})</a>
            <a class='btn btn-primary' href='#fb-post-section'>FB Posts({{fb_posts_count}})</a>
            <a class='btn btn-danger' href='#yt-comments-section'>YT Posts({{yt_comments_count}})</a>
            <a class='btn btn-info' href='#tweets-section'>Tweets({{tweets_count}})</a>
          </div>
          <div class='col-2'></div>
        </div>
        <div class='row' style='margin-top: 10px'>
          <div class='col-2'> </div>
          <div class='col-8'>
            <div class='container'>
              <div class='row'>
                <div class='bg-info round container col-12'>Total occurrences: {{ tweets_count }}</div> <br />
                {% for tweet in tweets %}
                  <div class='card' style='width: 22rem; margin: 5px;'>
                    <div class='card-header btn-info'>
                      <span>Tweet ({{tweet.tweet_id}})</span>
                    </div>
                    <div class='card-block'>
                      <h4 class='card-title'>User: {{tweet.username}}({{  tweet.user_id }})</h4>
                      <h6 class='card-subtitle mb-2 text-muted'>Timestamp: {{tweet.timestamp}}</h6>
                      <hr>
                      <p class='card-text'>{{tweet.message|safe}}</p>
                    </div>
                  </div>
                {% endfor %}
              </div>
            </div>
          </div>
          <div class='col-2'> </div>
        </div>
      {% endif %}
    </div>
    {% load staticfiles %}
    <script src="{% static 'main.js' %}"></script>

  </body>
</html>
